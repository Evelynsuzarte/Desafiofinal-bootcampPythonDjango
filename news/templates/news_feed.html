{% extends "base.html" %}

{% block titulo %} Home {% endblock %}

{% block header %}
  {% include "partials/navbar.html" %}
{% endblock %}

{% block conteudo %}
<div class="container mt-5">
  <!-- Search Form -->
  <form class="form-inline mb-2" style="width: 100%">
    <div class="input-group w-100">
      <input
        class="form-control"
        type="search"
        placeholder="Pesquisar"
        aria-label="Pesquisar"
      />
      <div class="input-group-append">
        <button class="btn btn-outline-success" type="submit">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </form>

  <!-- News Cards -->
  {% for noticia in noticias %}
    <div class="card mb-3">
      <div class="row g-0">
        <a href="{% url 'news_completa' noticia.id %}" class="btn stretched-link"></a>

        {% if noticia.imagem %}
        <div class="col-md-4">
          <img
            class="card-img rounded-start"
            src="{{ noticia.imagem.url }}"
            alt="{{ noticia.titulo }}"
            style="height: 200px; object-fit: contain"
          />
        </div>
        {% endif %}

        <div class="card-body {% if noticia.imagem %}col-md-8{% else %}col-md-12{% endif %}">
          <span class="badge rounded-pill text-bg-dark">{{ noticia.categoria }}</span>
          <h1 class="card-title h4">{{ noticia.titulo }}</h1>
          <h2 class="card-text h6">{{ noticia.subtitulo }}</h2>
          <p class="card-text">
            <small class="text-muted">{{ noticia.autor.username }} em {{ noticia.data_publicacao }}</small>
          </p>
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
